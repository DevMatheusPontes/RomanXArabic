<!DOCTYPE html>
<html lang="pt-br">
<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta name="theme-color" content="#000">
	<meta name="msapplication-navbutton-color" content="#000">
	<meta name="apple-mobile-web-app-status-bar-style" content="#000">
    
    <meta name="description" content="Matheus Pontes uma exemplo em JS de como converter números de romano para arabico e de arabico para romano">
	<meta name="keywords" content="HTML,JS,Matheus Pontes,Number, Romano, arabico, converter">
	<meta name="author" content="Matheus Pontes">
	
	

	<!--FACEBOOK METADATA-->
		<meta property="og:locale" content="pt_br" />
		<meta property="og:url" content="https://github.com/DevMatheusPontes" />
		<meta property="og:title" content="Matheus Pontes | Converter Numeros arabicos em romano e de romano para arabicos" />
		<meta property="og:site_name" content="Matheus Pontes" />
		<meta property="og:description" content="Converter Numeros arabicos em romano e de romano para arabicos" />
		<meta property="og:image:type" content="image/png" />
		<meta property="og:image:width" content="32">
		<meta property="og:image:height" content="32">
		<meta property="og:type" content="website" />
	<!--FIM FACEBOOK METADATA-->

	<meta name="robots" content="index, follow" />
	<meta http-equiv="X-UA-Compatible" content="IE=edge">
  <script src="https://code.jquery.com/jquery-2.1.4.js"></script>
    <link rel="stylesheet" href="css/style.css">
    <title>Teste Rota das Oficinas</title>
</head>
<body>
    <div class="container" >     
        <div class="content">      
          <div id="converter">
            <form action="" id="formConvert"> 
              <h1>Convert Roman X Arabic</h1> 
              <p> 
                <label for="valueToConvert">Valor para conversão</label>
                <input id="valueToConvert" name="valueToConvert" required="required" type="text" placeholder="Insira o valor que queira converter"/>
              </p>
              <img src="./img/loading.gif" id="img" width="50" height="50" alt="">
              <div id="return"></div>
              <p> 
                <input type="submit" value="Converter" /> 
              </p>
               
            </form>
          </div>
     
          
        </div>
      </div> 
      <footer>
        <p>Created by Matheus Pontes</p>
     </footer>
</body>
<script>
  $("#return").hide() // ESCONDO O BOX DE RETORNO
  $("#img").hide()    // ESCONDO A IMAGEM DE LOADING
document.getElementById("formConvert").addEventListener('submit', event =>{ // ADICIONO A ESCUTA NO EVENTO SUBMIT DO FORMULARIO
  $("#return").hide() // ESCONDO O BOX DE RETORNO, CASO ELE ESTEJA VISIVEL
  event.preventDefault()  // EVITO O REFRESH DA PAGINA 
    $("#img").show()      // EXIBO A IMG DE LOADING
    setTimeout(()=>{      // CRIO UM TIMER PARA DAR TEMPO DE FAZER O EFEITO ESPERADO
      $("#img").hide()    // ESCONDO A IMAGEM DE LOADING 
      let consult = convert(document.getElementById('valueToConvert').value.toUpperCase()) // CAPTURO O VALOR DIGITADO NO FORMULARIO 
      
      /**
       * VERIFICO SE NÃO FOI RETORNADO NENHUM ERRO (PELAS PALAVRAS PRÉ DETERMINADAS)
      */
      if(consult === "The value is not a valid Integer or Roman Numeral" || consult === "The value is out of range (Only accepted between 1-3999)"){
        // SE RETORNAR ERRO INSERE DENTRO DO BOX DE RETORNO A MENSAGEM E O ESTILO DO ERRO  
        document.getElementById('return').innerHTML = `<p class="alerta error">${consult}</p>`
      } else {
        // SE NÃO ESTIVER NADA ERRADO INSERE DENTRO DO BOX DE RETORNO A MENSAGEM E O ESTILO DE SUCESSO
          document.getElementById('return').innerHTML = `<p class="alerta success">O número <strong>${document.getElementById('valueToConvert').value.toUpperCase()}</strong> é igual a <strong>${consult}</strong></p>`
      }   
      $("#return").show()  // EXIBE O BOX DE RETORNO
    },1500) // DETERMINO O TEMPO QUE ESSE EFEITO (LOADING) VAI FICAR ATÉ QUE ELE EXECUTE A TAREFA E ESCONDA O LOADING
        
})
</script>
<script src="js/conversorNumeroRomano.js"></script>

</html>